# WJetsTreeAnalysis16



The instructions for running the W+jets 13TeV analysis code on bonzai ntuples (data and MC).

-- For now use CMSSW_5_3_20
cmsrel CMSSW_5_3_20  
cd CMSSW_5_3_20/src
cmsenv 

-- Clone /WJetsTreeAnalysis from the github
git clone https://github.com/awisecar/WJetsTreeAnalysis16.git

-- Go to the directory 
cd WJetsTreeAnalysis16/WJets

-- Compile RooUnfold
cd RooUnfold
make clean
make
cd -

-- Ready to run the code!!! 

Two different approaches to running:

1) python wjets_jobsub.py
which will submit batch jobs for doWhat's and doQCD's specified in the script, producing STDOUT, STDERR, and the submitted shell scripts in the folder "tmpjobs_<date>"

2) root -b -q runDYJets.cc
is the main command, which will be run in your current shell.

Note: for QCD multijets background estimation we use the "ABCD" data-driven method, so we must run over the one signal and three control regions, doQCD=0, 1...3, respectively.
The doWhat, doQCD, doSysRunning, and doBJets options tell the main code (Sources/ZJetsAndDPS.cc) what you'd like to run

-- Output root files are in the directory HistoFiles. 

-- Merge single top and DYJets root files (change if your total number of top or DY MC samples changes):
root -b -q MergeTop_BVeto.cc++
root -b -q MergeVV_BVeto.cc++

-- Merge QCD Background:
root -b -q runQCD_BVeto.cc++

-- Plotting: After you have all needed output files, you can plot the histograms by
root -b -q runTest_BVeto.cc++

--Congratulations! Output PDF files will be in the directory PNGFiles
